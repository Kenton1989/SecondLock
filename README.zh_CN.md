<img src="./src/images/logo.svg" alt="Logo of the project" align="right" width="128px">

# SecondLock (Chrome 插件)

[English README](README.md)

> 灵感来自[老师好我叫何同学的视频][mr_he_video]。

互联网并不好玩，除非你意识清晰。失智般的在网上浪费时间从不是什么好事。

**_一个意识清晰的人_**，会在打开网页之前，想清楚自已要干什么，然后迅速完成任务，或者有计划的放松自已。

**_但多数人容易失智_**，网上吸引人的内容能够轻易让一个人丢失意志。时间也好，先前制定的计划也好，都不复存在。

SecondLock正是为这类人所设计，有意识但不够坚定的人。在打开网页之前，在你还有最后一丝意识残留之时，请三思你要干什么，并估测所需时间。然后用SecondLock设定时间限额，就可以进入网页随意浏览了。即使你忘了时间，SecondLock也会在倒计时结束之时挡住页面并提醒你。

> 打开手机之前问问自己
>
> - 你为什么打开手机
> - 你要看多长时间
> - 你还能去做什么
>
> -- 何同学

上面三个问题在浏览网页之前同样适用。

---

# 功能

- 自动网页监控，拦截，计时，解锁
- 自定义网站黑/白名单
- 多功能弹窗
  - 倒计时显示
  - 提前结束倒计时
- 自定义默认解锁时长选项

# 安装

插件暂未在 Chrome Web Store 发布。

# 软件要求与依赖

总之用最新版 Chrome 就肯定没问题。

懒得测旧版本 Chrome 的兼容性了。

暂未在 Chromium 和 Microsoft Edge (Chromium 核心版) 上测试兼容性。

# 更新日志

- v0.2.1

  - 更换插件名字
  - 修复Bug：提前结束计时关闭页面时，白名单会失效

- v0.2.0

  - 支持简体中文
  - 手动提前结束计时
  - 显示本地储存空间占用情况

- v0.1.2

  - 自定义网页白名单

- v0.1.1

  - 自定义默认解锁时长选项

- v0.1.0
  - 自动网页监控，拦截，计时，解锁
  - 自定义网页黑名单
  - 倒计时显示

# TODO

- [ ] 弹窗：当前页面加入黑名单
- [ ] 用户指南
- [ ] 倒计时通知
- [ ] 冷静时间
- [ ] 自定义监视启动时间
- [ ] 自定义格言（单句）
- [ ] 自定义格言（集合）
- [ ] 设置导出/导入
- [ ] 设置同步
- [ ] 选项：时间到时直接关网页，不显示提示页面
- [ ] 选项：自定义时间到时的拦截页面
- [ ] 挑个前端框架重写前端
- [x] 时间选择页面：按解锁时间结束时间点设置，而非时间长度
- [x] 中英双语支持
- [x] 弄好 Readme（格式和语言）
- [x] 自定义默认解锁时间
- [x] 鸣谢列表
- [x] 提前结束计时
- [x] 白名单
- [x] UI 设计
- [x] 打开网站前要确定使用时间(核心功能 1)
- [x] 黑名单(核心功能 2)
- [x] 倒计时显示
- [x] 弄个好看点的 icon
- 想到但不想做的功能
  - [ ] 限制储存空间
  - [ ] 累计用时显示/限制
  - [ ] 数据统计

# 开发日志

### 2021/03/08

- 支持按结束时间点设置解锁时间
- 把插件名字换成SecondLock（版权警告）

### 2021/03/07

- 修复一个白名单可能失效的 bug
- 重写 README
- 翻译页面

### 2021/03/06

- 优化选项界面
- 优化 dynamic page 结构

### 2021/03/05

- 完成快速结束倒计时功能

### 2021/03/04

- 完成白名单

### 2021/03/02

- 完成自定义默认时间列表

### 2021/03/01

- 多立了一堆 flag
- translation: 1% completed

### 2021/02/27

- 基本完成默认设置
- 基本完成自定义监控列表 （核心功能 2）
- （好家伙直接咕了一个月）

### 2021/02/26

- 封装了一下用户设置

### 2021/01/26 ~ 02/04

- 小修小补
- Celeste 真好玩
- 课业好烦
- 随便搞一下设置页面

### 2021/01/25

- 完善计时模块
- 完成核心功能 1：时间选择与计时拦截
- 完成 BrowserAction 中的倒计时显示 (popup.html)
- 初步完成黑名单 UI

### 2021/01/24

- 完善动态页面模块
- 完善用户浏览页面监视模块
- 实现计时模块 (lock-timing-monitor.js)
- 完成两个障碍界面的功能 (time-selection.html & blocking.html)

### 2021/01/22

- 实现动态页面模块 (dynamic-page.js & dynamic-page-backend.js)
- 实现用户浏览页面监视模块 (browsing-page-monitor.js)

### 2021/01/21

- 初步完成 UI 设计

### 2021/01/20

- 加了一堆意义不明的 CSS
- 初步确定前后端(?)结构

### 2021/01/17

- 确定了拦截页面的策略：通过打开一个新 tab 来挡住页面。
- 初步确定了侦测页面切换的逻辑。
- 现存 Bug：
  - 一次窗口内 Tab 切换可能触发两次拦截（谜之 bug）。
  - 同时出现窗口切换和 Tab 切换时可能会触发两次拦截。

### 2021/01/16

- 开坑
- 画了一个草率的 Logo
- 嗯学 Chrome Extension 开发

[mr_he_video]: https://www.bilibili.com/video/BV1ev411x7en
[mr_he_app]: http://download.yitangyx.cn/test/student-he/new.html?202001
